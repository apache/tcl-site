















<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
	
















	<title>Rivet 2.0: Release Notes and Known Problems</title>
	<link rel="stylesheet" href="../css/rivet.css" />
    </head>
    <body>
    	<!--p align="center"></p -->
	<!-- ?
	    parray rivetweb::menus_a
	? -->
	<div id="bigcontainer"> 
	    <div id="pageheadline">
		<div class="decoration">
		    <!-- a href="/" --><img src="../picts/Rivetlogo_smaller.png" alt="Apache Rivet" /><!-- /a -->
		</div>
		<div class="headline"><headline>Rivet 2.0: Release Notes and Known Problems</headline>
</div>
	    </div>
	    <div id="pagecontents">
		<div class="navbar navleft"><div class="staticmenu" id="main">
    <div class="menuheader">Rivet</div>
    <div class="itemcontainer">
        <span class="navitem">
            <a href="../index.html" class="menuitem">Rivet Homepage</a>
        </span>
        <span class="navitem">
            <a href="http://tcl.apache.org/">Apache Tcl Home</a>
        </span>
        <span class="navitem">
            <a href="http://www.tcl.tk/">The Tcl Language</a>
        </span>
        <span class="navitem">
            <a href="download.html" class="menuitem">Getting Rivet</a>
        </span>
        <span class="navitem">
            <a href="http://tcl.apache.org/rivet/manual/">Documentation</a>
        </span>
        <span class="navitem">
            <a href="hello_world.html" class="menuitem">Examples</a>
        </span>
        <span class="navitem">
            <a href="about.html" class="menuitem">About Us - Contact</a>
        </span>
    </div>
</div>
<div class="staticmenu" id="release">
    <div class="menuheader">Downloads</div>
    <div class="itemcontainer">
        <span class="navitem">
            <a href="rn-2-0.html" class="menuitem">Rivet 2.0</a>
        </span>
    </div>
</div>

</div>
		<div class="navbar navright"></div>
		<div id="content"> 
		    <div class="contentheadline"></div>
		    <div id="maincontent" style=""><div>
 <div class="sez">
  <h4>Download</h4>
  <p>
				Rivet 2.0 is available for download from ASF mirror sites. Check the 
				<a href="download.html">download page</a>
 for information about 
				downloading the source code, rpm files or packages for SuSE, 
				Redhat, Debian and Ubuntu (packages for SuSE and Redhat are available thanks to 
				Harald Oehlmann).
			      </p>
  <p>
				Code integrity for this release can be checked using the 
				public keys in the <a href="http://www.apache.org/dist/tcl/KEYS">KEYS</a>
 file.
			      </p>
  <p>
				Rivet 2.0 has been tested on Apache 1.3 and Apache 2.2 servers.
				<strong>Apache 2.2 servers must be running 
				<tt>prefork</tt>
 as multiprocess module   </strong>
 though. Rivet doesn't support yet
				the runtime MPM specification introduced with the 2.3 development branch of 
				Apache and is incompatible with the 'worker' and 'event' MPMs.
			      </p>
 </div>
 <div class="sez">
  <h4>Release Notes for Rivet 2.0.4 <span class="timestamp">(23-Sep-2011)</span>
  </h4>
  <p>
   <h5>Bugs fixed</h5>
  </p>
  <p>
						An Tcl error in an AbortScript would trigger a message that
						erroneously printed that an ErrorScript was running.
					</p>
  <p>
   <h5>Manual Pages Expanded</h5>
  </p>
  <p>
						Manual pages have been expanded to include documentation for more
						commands implemented but not yet documented. Section documenting 
						single commands has been reorganized to list commands in alphabetical
						order.
					</p>
  <p>
   <h5>New Features</h5>
  </p>
  <p>
						Commands <strong>load_env</strong>
 and <strong>load_headers</strong>

						accept an array name as argument. If not fully qualified the array
						was created in either the <tt>::request</tt>
 namespace (.rvt templates)
						or the global namespace (.tcl scripts). Starting with 2.0.4 
						these commands, when invoked from within a procedure, create
						the array in the proc's local scope, unless the argument is a
						fully qualifed name scoping the array in a user defined namespace.
					  </p>
  <p>
						Command <strong>makeurl</strong>
 has been extended to be used in three forms
						<ul>
    <li>without argument
								<pre class="programlisting">makeurl
==&gt; Current script's url</pre>
    </li>
    <li>with an absolute path
								<pre class="programlisting">makeurl /a/b/c
==&gt; http://&lt;host&gt;:&lt;port&gt;/a/b/c </pre>
    </li>
    <li>with a relative path
								<pre class="programlisting">makeurl a/b/c
==&gt; http://&lt;host&gt;:&lt;port&gt;/&lt;current script&gt;/a/b/c</pre>
    </li>
   </ul>
  </p>
 </div>
 <div class="sez">
  <h4>Release Notes for Rivet 2.0.3 <span class="timestamp">(19-Mar-2011)</span>
  </h4>
  <p>
   <h5>New Features</h5>
  </p>
  <p>
				        Rivet 2.0.3 introduces 2 new configuration directives
				        <ul>
    <li>
				                New configuration directive <strong>AbortScript</strong>
: 
				                Tcl script to be run if an <b>abort_page</b>
 is called 
				                in a request processing
				                </li>
    <li>
						New configuration directive 
				                <strong>AfterEveryScript</strong>
: An <b>abort_page</b>
 command stops the
				                page generation and skips also a configured <strong>AfterScript</strong>
 to
						run an <strong>AbortScript</strong>
. This new configuration script is to 
						be run anyway, as last script of a single request processing, 
						whether an abort condition took place during the page
						generation or the procedure completed successfully.
				                </li>
    <li>
				                Enhanced form for <strong>abort_page</strong>
: page generation can
				                be interrupted by calling <strong>abort_page</strong>
. The new command 
				                accepts now an argument whose value can be checked to determine which
				                condition forced to call the page generation off.
				                </li>
    <li>
				                New command <strong>abort_code</strong>
 returns the value of the
				                argument passed to <strong>abort_page</strong>
. Useful in <b>AbortScript</b>

				                or <b>AfterEveryScript</b>
 code.
				                </li>
   </ul>
  </p>
  <p>
   <h5>Problems fixed</h5>
  </p>
  <p>
				        Code for command <strong>apache_table</strong>
 was ported to Rivet for Apache 1.3
				      </p>
 </div>
 <div class="sez">
  <h4>Release Notes for Rivet 2.0.2 <span class="timestamp">(25-Oct-2010)</span>
  </h4>
  <p>
					   Rivet 2.0.2 is a maintainance release with the main purpose to adjust the 
					   build process in a way that makes straightforward the generation of a Debian package.
				    </p>
  <p>
					   Rivet (named 
					   <a href="http://packages.qa.debian.org/liba/libapache2-mod-rivet.html">libapache2-mod-rivet</a>
 
					   to follow the Debian Apache policy) is now in Debian.
					   The package is sponsored by Sven Hoexter (Debian Developer). 
				      </p>
 </div>
 <div class="sez">
  <h4>Relase Notes for Rivet 2.0.1 <span class="timestamp">(12-Jul-2010)</span>
  </h4>
  <p>
   <h5>Fixed Bugs in Rivet 2.0.1</h5>
   <ul>
    <li>
						Several error messages printed during the installation phase have been
						fixed. The problems were harmless, but nonetheless annoying.
					    </li>
    <li>
						Fixed bug in installation of the rivetparser library.
					    </li>
    <li>
						Fixed tables creation for Postgres backend. The SQL script that 
						creates the rivet_session_cache table misnamed 2 columns.
						<b>Current DIO Postgres backend breaks Session package if the database
						was created with an old Rivet version</b>
. To fix the problem one has to
						rename the 'key' and 'package' columns as 'key_' and 'package_'
<pre class="programlisting">
ALTER TABLE rivet_session_cache RENAME COLUMN key to key_
ALTER TABLE rivet_session_cache RENAME COLUMN package to package_</pre>
    </li>
    <li>
						Fixed dio_Postgres.tcl method. A mistyped variable caused at least method 
						'store' to fail.	
					    </li>
   </ul>
  </p>
  <p>
   <h5>New Features</h5>
   <ul>
    <li>
     <p>
								    A new package <b>Calendar</b>
 has been added. Calendar provides 3 Itcl classes that 
								    print Calendar tables in ASCII, XML and XHTML forms (see examples and related 
								    manual page).
							         </p>
     <p>
      <em>
       <b>Calendar</b>
 requires Tcl8.5 or Tcl8.4 with package 'dict'      </em>
     </p>
    </li>
    <li>
							    New page for package 'form' added to the manual							
						    </li>
   </ul>
  </p>
 </div>
 <div class="sez">
  <h4>Installation Issues</h4>
  <p>
					    Rivet is widely configurable to select custom directories where the module and
					    its associated libraries have to reside.
			    </p>
  <ul>
   <li>
				    Even though you can install Rivet to run pure Tcl scripts, some associated packages
				    (namely 'Session' and 'DIO') are written in Itcl, an OO extension of the base 
				    language.In order to safely run those package, you have to check yourself if 
				    the Itcl extension installed on your system is compatible with the Tcl version
				    for which you're building Rivet.
				</li>
  </ul>
 </div>
 <div class="sez">
  <h4>Known Problems</h4>
  <ul>
   <li>
						    Rivet is reported to conflict with cgi scripts on some Linux machines.
						    Symptom of the problem is when cgi scripts hang forever and don't send 
						    any content to the client
					    </li>
  </ul>
 </div>
</div>



		    </div>
		    <div id="last_modified">Last Modified: 23-09-2011 17:48:52 UTC</div>
		</div>
		<div class="clearfloats"></div>
		<!--div class="leftaligned">: $Author: Massimo Manghi</div>
		<div class="rightaligned">:23-09-2011 17:48:52</div-->
		<div>
		    <table align="center" width="100%">
			<tr>
			    <td align="left">
				<a href="http://www.apache.org/">
				    <img src="../picts/apache_pb.gif" alt="Powered by Apache" border="0" width="259" height="32"></a>

			    </td>
			    <td align="right">
				<a href="http://www.tcl.tk/">
				    <img src="../picts/tclp.gif" alt="Powered by Tcl" border="0" width="42" height="64"></a>
			    </td>
			</tr>
		    </table>
		</div>
	    </div>
	</div>
    </body>
</html>
