

























<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
	


























	<title>Tcl Scripts</title>
	<link rel="stylesheet" href="../rivet.css" />
    </head>
    <body>
    	<!--p align="center"></p -->
	<!-- ? parray ::rivetweb::html_menu ? -->
	<div id="bigcontainer"> 
	    <div id="pageheadline">
		<div class="decoration"><img src="../picts/Rivetlogo_smaller.png" alt="Apache Rivet" /></div>
		<div class="headline">Tcl Scripts</div>
	    </div>
	    <div id="pagecontents">
		<div class="navbar navleft"><div class="staticmenu" id="main">
    <div class="menuheader">Rivet</div>
    <div class="itemcontainer">
        <span class="navitem">
            <a href="../index.html" class="menuitem">Rivet Homepage</a>
        </span>
        <span class="navitem">
            <a href="http://tcl.apache.org/">Apache Tcl Home</a>
        </span>
        <span class="navitem">
            <a href="http://www.tcl.tk/">The Tcl Language</a>
        </span>
        <span class="navitem">
            <a href="download.html" class="menuitem">Download</a>
        </span>
        <span class="navitem">
            <a href="http://tcl.apache.org/rivet/manual/">Documentation</a>
        </span>
        <span class="navitem">
            <a href="hello_world.html" class="menuitem">Examples</a>
        </span>
        <span class="navitem">
            <a href="about.html" class="menuitem">
		About Us - Contact
		</a>
        </span>
    </div>
</div>
<div class="staticmenu" id="examples">
    <div class="menuheader">Examples</div>
    <div class="itemcontainer">
        <span class="navitem">
            <a href="hello_world.html" class="menuitem">Hello world!</a>
        </span>
        <span class="navitem">
            <a href="shaded_table.html" class="menuitem">A shaded table</a>
        </span>
        <span class="navitem">
            <a href="var_access.html" class="menuitem">Variable Access</a>
        </span>
        <span class="navitem">
            <a href="file_upload.html" class="menuitem">File Upload</a>
        </span>
        <span class="navitem">
            <a href="file_download.html" class="menuitem">File Download</a>
        </span>
        <span class="navitem">
            <a href="ajax.html" class="menuitem">XML and Ajax</a>
        </span>
    </div>
</div>

</div>
		<div class="navbar navright"></div>
		<div id="content"> 
		    <div class="contentheadline"></div>
		    <div><div>
 <p>
		    Pure Tcl scripts let you do the heavy lifting to control your application. A sensible 
		    design pattern is to put most of your complex logic in these files, and then parse template 
		    files to display the results. This means that those who are creating the HTML files don't 
		    have to know much Tcl, and only need to call a few simple commands.
		</p>
 <p>
  <pre class="programlisting">proc chat::model::getlines {user} {
    set sk [chat::model::getsock]
    puts $sk [list user $user cmd get msg ""]
    if { ! [eof $sk] } {
        gets $sk data
        return "$data"
    } else {
        error "Problem with socket"
    }
}
     
</pre>
 </p>
 <p>
		    For instance scripts are useful when you want to have control of the http protocol and you are not transmitting 
		    text/html data. See the example regarding the <a href="file_download.html">file download</a>

		    or the xml messaging in <a href="ajax.html">Ajax</a>
 development.
		 </p>
</div>

</div>
		    <div id="last_modified">Last Modified: 22-06-2009 17:16:10 UTC</div>
		</div>
		<div class="clearfloats"></div>
		<!--div class="leftaligned">:$Author: $</div>
		<div class="rightaligned">:22-06-2009 17:16:10</div-->
		<div>
		    <table align="center" width="100%">
			<tr>
			    <td align="left">
				<a href="http://www.apache.org/">
				    <img src="../picts/apache_pb.gif" 
					 alt="Powered by Apache" border="0" width="259" height="32"></a>

			    </td>
			    <td align="right">
				<a href="http://www.tcl.tk/">
				    <img src="../picts/tclp.gif" alt="Powered by Tcl" border="0" width="42" height="64"></a>
			    </td>
			</tr>
		    </table>
		</div>
	    </div>
	</div>
    </body>
</html>
